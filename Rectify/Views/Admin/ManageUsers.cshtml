@model IEnumerable<Rectify.Models.ViewModels.OwnerUserViewModel>
@{
    ViewData["Title"] = "Manage";
    Layout = "_Layout";
}
<head>
    <link href="~/css/mobile.css" rel="stylesheet" asp-append-version="true" />
    <style>

        .btn-pink {
            color: #fff;
            background-color: #ff1493;
            border-color: #ff1493;
            border-radius: 0.25rem; /* Matches Bootstrap's default */
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out;
        }

            .btn-pink:hover {
                background-color: #e01384; /* Slightly darker pink */
                border-color: #e01384;
                color: #fff;
            }

            .btn-pink:active {
                transform: scale(0.95);
            }

        .nav-pills .btn-pink {
            border-radius: 50rem; /* pill shape */
            padding: 0.4rem 1rem;
            font-size: 0.95rem;
            background-color: #ff1493;
            color: white !important;
        }

            .nav-pills .btn-pink:hover {
                background-color: #e01384;
                color: white;
            }

        .btn-outline-pink {
            color: #ff1493;
            border: 2px solid #ff1493;
            background-color: transparent;
            border-radius: 0.25rem;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;
        }

            .btn-outline-pink:hover {
                background-color: #ff1493;
                color: #fff;
                border-color: #ff1493;
            }

        .qr-btn {
            display: inline-block;
            width: 30px; /* Adjust the size */
            height: 30px; /* Adjust the size */
            border: 2px solid #ff1493; /* Pink border */
            border-radius: 0.25rem; /* Rounded corners like other buttons */
            transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;
            text-align: center;
        }

            .qr-btn:hover {
                background-color: #fff; /* White background on hover */
                border-color: #ff1493; /* Pink border on hover */
            }

            .qr-btn img {
                width: 100%; /* Ensures image fits into the button */
                height: 100%; /* Ensures image fits into the button */
                object-fit: cover;
            }

        .sticky-header thead th {
            position: sticky;
            top: 0;
            background-color: #ff1493;
            color: white;
            z-index: 1; /* ensures the header is above body rows */
        }

        .checkbox-grey .form-check-input[type="checkbox"]:checked {
            background-color: grey !important;
            border-color: grey !important;
        }

        .form-control:focus {
            border-color: #ff1493;
            outline: none;
            box-shadow: 0 0 0 0.2rem rgba(255, 20, 147, 0.25);
        }

    </style>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>

<h1>Manage Owners</h1>

<div style="max-height: calc(8 * 3.5rem); overflow-y: auto;">
    <table class="table table-bordered mb-0 sticky-header">
        <thead>
            <tr>
                <th>User Name</th>
                <th>Email</th>
                <th>Status</th>
                <th>Businesses</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var owner in Model)
            {
                <tr>
                    <td>@owner.UserName</td>
                    <td>@owner.Email</td>
                    <td class="text-center">
                        @{
                            string statusClass = owner.Status switch
                            {
                                "Active" => "bg-success text-white",
                                "Inactive" => "bg-danger text-white",
                                "Pending" => "bg-warning text-dark",
                                _ => "bg-secondary text-white"
                            };
                        }
                        <span class="badge rounded-pill @statusClass px-3 py-2">
                            @owner.Status
                        </span>
                    </td>

                    <td>@owner.BusinessCount</td>
                    <td class="text-center">
                        <a asp-controller="Admin" asp-action="EditOwners" asp-route-id="@owner.UserId"
                           class="btn btn-outline-primary btn-sm">
                            Edit
                        </a>
                    </td>

                </tr>
            }
        </tbody>
    </table>
</div>
